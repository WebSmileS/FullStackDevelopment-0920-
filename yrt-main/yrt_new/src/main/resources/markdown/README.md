# YRT 医润通

**环境常量：**
1. 机构类型(system_type)：`0-平台、 1-医院 、 2-经销商、 3-厂商`
2. 机构信息来源(source):内部控制字段，用于分别是否平台建立 `0-来自平台 1-来自医院 2-来自经销商 3-来自厂商`
3. 机构状态(status)：`0-禁用  1-正常`
4. 机构认证状态(audit_status): `0-未认证 1-用户申请认证 2-认证通过 3-认证未通过`
5. 机构删除状态(is_deleted): `0-可用 1-删除`
6. 机构类型(enterprise_type):`0-非公司企业法人 1-有限责任公司 2-股份有限责任公司 3-个体工商户 4-私营独资企业 5-私营合伙企业`
7. 经营方式(operation_mode):`0-其他 1-批发 2-零售 3-制作 4-咨询 5-租赁 6-代理 7-采掘`
8. 厂商图片类型(certType):`0-其他 1-营业执照 2-医疗器械生产许可证 3-企业年度公示信息 4-印章印模 5-空白销售出库单(随货) 6-质量体系调查表 7-合同供货方档案 8-授权书`
9. 经销商图片类型(certType):`0-其他 1-营业执照 2-医疗器械经营许可证 3-第二类医疗器械经营备案凭证 4-企业年度公示信息 5-印章印模 6-空白销售出库单 7-质量体系调查表 8-合格供货方档案 9-授权书`
10. 医院图片类型(certType):`0-其他 1-营业执照 2-医疗机构执业许可证 3-开户许可证 4-授权书`
11. 产品类型(type): `0-医疗器械 1-非医疗器械`
11. 产品存储条件(storage_condition):`0-其他 1-常温 2-保温 3-阴凉 4-冷藏 5-冷冻 6-无菌 7- 特储`
12. 产品医保类别(health_care_type):`0-A型 1-B型 2-C型`
13. 产品图片类型(certType):`0-其他 1-产品`~~2-注册证 3-注册证登记表~~`4-质量检测报告`
14. 产品使用方式: `0-工具 1-材料`
15. 医疗器械分类目录类别: `1-一类 2-二类 3-三类`
14. 员工状态(status): `0-试用期 1-在职 2-离职 3-停薪留职`
15. 员工学历(degree): `0-文盲 1-小学 2-初中 3-高中 4-职高 5-大专 6-大学 7-硕士 8-博士 9-博士后`
16. 员工婚姻状况(marriage_status): `0-未婚 1-已婚 2-离异 3-丧偶`
17. 员工证件类别(personal_certificate_type): `0-身份证 1-护照`
18. 仓库类别(type): `0-仓库 1-楼层 2-区域 3-托盘 4-货架组 5-货架 6-货位 7-储物柜 8-储物格`
19. 仓库人员类型(type): `0-仓库主管 1-拣货员 2-上货员 3-验货员 4-出库员 5-入库员`
19. 合同状态(status): `0-草稿 1-审批进行中 2-审批未通过 3-审批通过 4-有效履行中 5-自然终止 6-提前终止 7-超期履行`
20. 合同审批状态(status): `0-发起 1-未处理 2-处理进行中 3-同意 4-不同意`
21. 医院申领单状态(status): `0-草稿` ~~1-未发放 2-部分发放 3-全部发放(自然终止) 4-申领终止(人为终止)~~`1-申领 2-全部发放(自然终止) 3-申领终止(人为终止)`
22. 医院申领单产品明细状态(status): `0-申领中 1-已完全发放 2-已计划采购 3-已终止申领`
23. 医院发放单状态(status): `0-可发放 1-出库单已完全生成 2-已领取`
24. 医院发放单明细状态(status): `0-待生成出库单 1-出库单已完全生成 2-已领取`
22. 询价状态(status): `0-询价草稿 1-询价 2-回复草稿 3-已回复`
23. 采购计划状态(status): `0-草稿 1-正式 2-已审核 3-已终止 4-订单已生成`
24. 采购计划明细状态(status): `0-待处理 1-已终止 2-已生成采购订单`
25. 采购订单状态: `0-草稿 1-正式 2-已审批 3-确认 4-已终止 5-已完结 6-未通过(未启用)`
26. 采购订单明细状态: `0-处理中 1-已完全处理 2-已计划采购 3-已终止处理`
27. 骨科手术类别: `0-颅骨 1-脊柱 2-关节 3-创伤`
28. 骨科合作意向状态: `0-无意向 1-有意向 2意向待确定`
29. 骨科手术包产品明细类型: `0-工具 1-材料`
30. 库存产品列表(type): `0-常规 1-赠品`
31. 入库单状态: `0-正式 1-已审核 2-已入库 3-已入库复核`
32. 入库单明细类型(type): `0-常规 1-赠品`
33. 入库条码类型: `0-单一条码 1-多条码`
34. 储位分配单状态: `0-待放置 1-部分放置 2-作业结束`
35. 储位分配单明细状态: `0-待放置 1-已部分放置 2-已全部放置`
33. 出库单状态: `0-正式 1-已审核 2-已出库(已过账) 3-已出库复核`
34. 医院出库单因单据类型: `0-无 1-发放单`
34. 库存产品状态: `0-停售 1-正常`
35. 销售单状态: ~~0-草稿(不启用)~~ `1-正式 2-已审核 3-已作废(不启用) 4-出库单已完全生成` ~~5-已出库 6-已配送 7-已送达 8-已收货9-已开票 10-已过账 11-已结清~~
36. 销售单明细状态: `0-待生成出库单 1-出库单已完全生成`
37. 收货单状态: `0-草稿(不启用) 1-待收货 2-已收货`
38. 关联单据状态: `1-待完成 2-已完成`
36. 单据类别: `0-合同(HT) 1-采购计划(CGJH) 2-采购订单(CG) 3-销售单(销货单)(XH) 4-出库单(CK) 5-入库单(RK) 6-申领单(SL) 7-发放单(FF) 8-储位分配单(CW) 9-拣货单(JH) 10-询价单(XJ) 11-报价单(BJ) 12-验货单(YH) 13-销售订单(XS) 14-收货单(SH) 15-骨科计划(GKJH)`
37. 单据编号规则: `前缀+年月日+序号 例如：合同编号 HT201905121，单据名称简写两位拼音字母作为单据编号前缀`
38. 验货单状态: `0-草稿(不启用) `~~1-正式 2-已审核~~ `1-待验 2-已验`
38. 经销商编辑产品操作类型: `0-删除 1-新增 2-修改`
39. 经销商编辑产品操作审核级别: `0-一级 1-二级 2-三级 3-四级`
40. 经销商编辑产品状态: `2-草稿 3-待审核 4-审核未通过`
41. ~~出库单关联单据类型: 0-无 1-发放单 2-销售单~~
42. ~~收货单关联单据类型: 0-无 1-销售单 2-采购订单(暂不启用)~~
43. ~~销售单关联单据类型: 0-无 1-销售订单(采购订单) 2-骨科计划~~
42. 骨科手术计划状态: `0-草稿 1-确认 2-发布(处理中) 3-结束`
43. 骨科手术计划手术包状态: `1-确认 2-备货 3-出库 4-回库 5-待医院确认结算 6-完成`
44. 关联单据类型: `0-无 1-发放单 2-销售单 3-采购订单 4-销售订单 5-骨科计划 6-收货单`

**开发规则**

1. 后端接口采用restful标准，获取信息用GET方法，新增信息用POST方法，修改信息用PUT，删除信息用DELETE方法，参数采用URL上传递ID或者TYPE类型的数字参数，而主要信息的传递则使用form-data格式的前端参数，并已json格式返回
2. 后端接口返回格式固定为

```json
{
    "msg": "消息内容(成功提示或者失败原因)",
    "code": 0-成功；1-失败；其他http错误代码，比如404、500,
    "对象名称": {
        对象内容
    }
}
```

3. 后端分页请增加pageNum和pageSize的参数，返回格式统一为
```json
{
   "total": 20,
    "rows": [
        {
            "object": null,
        }
    ],
    "code": 0
}
```


4. 文件上传以post方式发送到路径/comm/upload
参数file， http header 设置Content-Type:multipart/form-data 
返回内容
```json
{
    "msg": "操作成功",
    "fileName": "2019/04/02/c290cd7f730b32967ec7bee3ef78c306.jpg",
    "code": 0,
    "url": "http://localhost/profile/upload/2019/04/02/c290cd7f730b32967ec7bee3ef78c306.jpg"
}
```

5. 接口测试地址是/doc.html 或者 /swagger-ui.html

6. druid监控页面/admin/monitor/druid/data

**api文档**
### [通用API](/COMMON.md)
### [平台API](/PLATFORM.md)
### [业务API](/BUSINESS.md)
